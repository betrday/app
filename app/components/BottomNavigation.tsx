'use client';

import { useState } from 'react';

interface Tab {
  id: string;
  icon: React.ReactNode;
  label: string;
}

interface BottomNavigationProps {
  activeTab: string;
  onTabChange: (id: string) => void;
}

export default function BottomNavigation({ activeTab, onTabChange }: BottomNavigationProps) {

  const tabs: Tab[] = [
    {
      id: 'resources',
      label: 'Ресурси',
      icon: (
        <svg width="54" height="54" viewBox="0 0 54 54" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M14.0449 32.6974C14.0449 31.8015 13.6926 30.9423 13.0655 30.3089C12.4384 29.6754 11.5878 29.3195 10.7009 29.3195H2.00642C0.898305 29.3195 0 28.4121 0 27.2928C0 26.1735 0.898305 25.2661 2.00642 25.2661H10.7009C12.652 25.2661 14.5234 26.049 15.9031 27.4426C17.2827 28.8362 18.0578 30.7265 18.0578 32.6974C18.0578 33.5932 18.4101 34.4523 19.0372 35.0858C19.6644 35.7192 20.515 36.0751 21.4019 36.0751H32.1027C32.9896 36.0751 33.8402 35.7192 34.4673 35.0858C35.0944 34.4523 35.4468 33.5932 35.4468 32.6974C35.4468 30.7265 36.2218 28.8362 37.6015 27.4426C38.9812 26.049 40.8525 25.2661 42.8036 25.2661H51.4982C52.6063 25.2661 53.5046 26.1735 53.5046 27.2928C53.5046 28.4121 52.6063 29.3195 51.4982 29.3195H42.8036C41.9167 29.3195 41.0662 29.6754 40.4391 30.3089C39.812 30.9423 39.4596 31.8015 39.4596 32.6974C39.4596 34.6682 38.6845 36.5584 37.3048 37.952C35.9251 39.3456 34.0539 40.1285 32.1027 40.1285H21.4019C19.4507 40.1285 17.5793 39.3456 16.1997 37.952C14.82 36.5584 14.045 34.6682 14.0449 32.6974Z" fill="currentColor" />
          <path d="M0 35.9424V18.5534C1.26695e-07 13.7642 1.90253 9.17112 5.28902 5.78462C8.67551 2.39813 13.2686 0.495606 18.0578 0.495605H31.0995C32.2076 0.495605 33.1059 1.39391 33.1059 2.50203C33.1059 3.61014 32.2076 4.50845 31.0995 4.50845H18.0578C14.3328 4.50845 10.7604 5.98814 8.12647 8.62207C5.49253 11.256 4.01284 14.8284 4.01284 18.5534V35.9424C4.01285 39.6673 5.49257 43.2397 8.12647 45.8736C10.7604 48.5075 14.3328 49.9873 18.0578 49.9873H35.4468C39.1717 49.9873 42.7441 48.5075 45.378 45.8736C48.0119 43.2397 49.4917 39.6673 49.4917 35.9424V22.9007C49.4917 21.7926 50.39 20.8943 51.4982 20.8943C52.6063 20.8943 53.5046 21.7926 53.5046 22.9007V35.9424C53.5046 40.7316 51.602 45.3247 48.2156 48.7112C44.8291 52.0977 40.236 54.0002 35.4468 54.0002H18.0578C13.2686 54.0002 8.67551 52.0977 5.28902 48.7112C1.90254 45.3247 1.05468e-05 40.7316 0 35.9424Z" fill="currentColor" />
          <path d="M49.9987 8.66966C49.9987 6.09145 47.9085 4.0014 45.3303 4.0014C42.7521 4.00142 40.6621 6.09146 40.662 8.66966C40.662 11.2479 42.7521 13.338 45.3303 13.338C47.9085 13.338 49.9987 11.2479 49.9987 8.66966ZM54.0001 8.66966C54.0001 13.4578 50.1185 17.3394 45.3303 17.3394C40.5422 17.3394 36.6606 13.4578 36.6606 8.66966C36.6607 3.88155 40.5422 2.21057e-05 45.3303 0C50.1184 0 54.0001 3.88154 54.0001 8.66966Z" fill="currentColor" />
        </svg>
      ),
    },
    {
      id: 'center',
      label: 'Betr Day',
      icon: (
        <svg width="56" height="53" viewBox="0 0 56 53" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path fillRule="evenodd" clipRule="evenodd" d="M12.1642 29.6901C16.6659 29.6901 24.0127 28.4871 24.8854 28.3314C25.2436 28.3014 29.5952 27.3629 27.4166 29.1544C25.107 31.1145 21.449 32.7913 18.674 34.2978C17.2654 34.9882 16.0153 35.6447 14.8289 36.5933C14.3769 36.9547 13.9185 37.3628 13.5594 37.8204C12.8843 38.6809 12.635 38.8589 12.0033 39.9517C11.6801 40.5109 11.4586 40.997 11.1977 41.638C10.4527 43.469 10.068 46.5936 9.70248 48.7431C9.63261 49.1538 9.54594 49.6312 9.54594 50.1C9.54594 51.0909 10.1882 51.9529 10.7837 52.3844C11.4697 52.8812 12.498 53.1745 13.5224 52.8482C14.1209 52.6575 14.7102 52.267 15.2735 51.9898C17.8042 50.7441 20.325 49.2997 22.8557 48.0482C24.0382 47.4635 25.1745 46.7156 26.4347 46.2994C29.019 45.4459 30.9503 46.9524 33.129 48.0301L38.958 51.0614C39.5024 51.3896 42.0022 52.6955 42.5398 52.8613C44.6225 53.5038 46.475 51.8121 46.475 49.884C46.475 48.8152 44.184 37.274 44.184 36.1154C44.184 35.2281 44.323 34.4965 44.6119 33.7852C45.0935 32.5995 45.8653 32.0589 46.7071 31.2157C47.2912 30.6308 47.8567 30.0044 48.4802 29.4611L50.3071 27.7058C50.4083 27.6055 50.4759 27.5297 50.5792 27.4351L51.5071 26.572C51.92 26.1632 52.2918 25.7888 52.7062 25.3831C52.8345 25.2572 52.8739 25.2469 53.0048 25.1387L53.9073 24.2501C54.7181 23.4476 55.6879 22.7612 55.9357 21.5604C56.2037 20.2607 55.6119 19.0581 54.5711 18.3827C53.996 18.0096 53.5216 17.9676 52.7094 17.8497C51.3664 17.6546 49.9669 17.4514 48.5715 17.248L42.4291 16.3628C40.3998 16.0796 38.7076 15.9484 37.2977 14.3688C36.4747 13.4467 34.7648 9.69306 34.0199 8.21835L31.6743 3.52085C31.3952 2.96835 31.1376 2.50075 30.8903 1.9212C29.8626 -0.487121 26.4877 -0.697356 25.255 1.6662C25.1299 1.90605 25.023 2.12986 24.8921 2.38683L23.8194 4.56465C22.834 6.51531 21.8943 8.42977 20.9102 10.3781C20.4142 11.36 19.9746 12.3237 19.4744 13.2765C18.7083 14.7355 17.3663 15.7024 15.7321 16.0514C14.7659 16.2578 11.0582 16.7341 9.97281 16.8841L4.25779 17.7063C3.6559 17.7889 2.96247 17.864 2.36733 17.9948C1.27078 18.2357 0.454304 19.0883 0.14302 20.1127C0.0587386 20.3902 0.0131192 20.6479 0 20.8892V21.1771C0.0746405 22.5216 1.20011 23.3451 2.19559 24.3312C3.00152 25.1295 4.96086 26.3612 5.97691 27.1215L8.18174 28.7187C9.21001 29.4569 10.5664 29.6901 12.1642 29.6901Z" fill="currentColor" />
        </svg>
      ),
    },
    {
      id: 'notes',
      label: 'Записки',
      icon: (
        <svg width="54" height="54" viewBox="0 0 54 54" fill="none" xmlns="http://www.w3.org/2000/svg">
          <path d="M49.95 13.1247C49.95 10.7167 48.9957 8.40887 47.2948 6.70793C45.593 5.0061 43.2847 4.05 40.8779 4.05H13.1247C10.7183 4.05 8.41044 5.00584 6.70867 6.70719C5.00693 8.40853 4.05059 10.7161 4.05 13.1224V40.8753L4.05074 40.9869C4.06494 42.1408 4.29909 43.2818 4.74102 44.3485C5.1972 45.4496 5.86579 46.4501 6.70867 47.2928C7.55157 48.1355 8.55222 48.8039 9.65347 49.2598C10.7547 49.7158 11.935 49.9503 13.1269 49.95H30.2482C30.2708 49.95 30.2934 49.9495 30.316 49.9491L29.154 40.6568V40.6567C28.9568 39.0924 29.1198 37.5037 29.6304 36.0119C30.1413 34.5194 30.9868 33.1635 32.1021 32.0478C33.2174 30.9322 34.5731 30.0864 36.0655 29.5751C37.5572 29.0639 39.1461 28.9005 40.7107 29.0974H40.7108L49.9499 30.2527C49.9499 30.2515 49.95 30.2503 49.95 30.249V13.1247ZM40.2063 33.1158C39.2538 32.9958 38.2865 33.0951 37.3783 33.4063C36.4701 33.7175 35.6451 34.2323 34.9663 34.9112C34.2876 35.5901 33.7731 36.4154 33.4622 37.3237C33.161 38.2036 33.0586 39.1389 33.1618 40.0624L33.1725 40.1518L33.1727 40.1541L34.0992 47.563L47.6194 34.0428L40.2082 33.116C40.2075 33.1159 40.2069 33.1159 40.2063 33.1158ZM54 30.2472L53.9994 30.3407C53.9894 31.18 53.84 32.011 53.5581 32.8002C53.503 33.1623 53.3545 33.4882 53.1403 33.7566C52.7823 34.4427 52.3206 35.0711 51.7706 35.6192L35.6193 51.7707L35.6192 51.7706C35.0568 52.3352 34.4098 52.8067 33.7026 53.1686C33.507 53.304 33.2853 53.4063 33.0447 53.4664C32.154 53.8196 31.2042 54.0008 30.2453 53.9999L13.1274 54V53.9999C11.4037 54.0002 9.69689 53.6612 8.10432 53.0018C6.5116 52.3424 5.0644 51.3757 3.84532 50.1569C2.62625 48.9381 1.65917 47.4912 0.999398 45.8986C0.339621 44.3061 -5.09998e-08 42.599 0 40.8752V13.1215L0.00111236 12.9584C0.0444031 9.53706 1.42252 6.26518 3.84532 3.84297C6.30658 1.38234 9.64437 5.53785e-06 13.1247 0H40.8779C44.3588 0 47.6972 1.38275 50.1585 3.84409C52.6208 6.30633 54 9.64505 54 13.1247V30.2472Z" fill="currentColor" />
        </svg>
      ),
    },
  ];

  return (
    <nav className="fixed bottom-0 left-0 right-0 z-50 flex h-20 items-center justify-center px-4">
      <div className="relative flex w-full max-w-[1098px] items-center justify-center gap-6">
        {tabs.map((tab) => {
          const isActive = activeTab === tab.id;

          return (
            <button
              key={tab.id}
              onClick={() => onTabChange(tab.id)}
              className="relative flex items-center justify-center min-h-[54px] min-w-[80px]"
            >
              <div className="relative flex items-center justify-center w-full h-full">
                {/* Active indicator */}
                <div
                  className={`absolute flex items-center justify-center rounded-full border border-white shadow-[0_4px_4px_rgba(0,0,0,0.25)] transition-all duration-500 ease-[cubic-bezier(0.34,1.56,0.64,1)] ${isActive
                    ? 'opacity-100 scale-100 h-11 w-[83px]'
                    : 'opacity-0 scale-95 h-11 w-[83px] pointer-events-none'
                    }`}
                  style={{
                    backgroundColor: 'rgb(73, 160, 8)',
                  }}
                >
                  <div
                    className={`text-white transition-all duration-500 ease-[cubic-bezier(0.34,1.56,0.64,1)] [&>svg]:h-5 [&>svg]:w-5 ${isActive ? 'opacity-100 scale-100' : 'opacity-0 scale-90'
                      }`}
                  >
                    {tab.icon}
                  </div>
                </div>
                {/* Inactive label */}
                <div
                  className={`flex items-center justify-center px-4 py-2 text-sm font-medium transition-all duration-500 ease-[cubic-bezier(0.34,1.56,0.64,1)] ${isActive
                    ? 'opacity-0 scale-95 pointer-events-none'
                    : 'opacity-60 scale-100'
                    }`}
                  style={{ color: '#1a1a1a' }}
                >
                  {tab.label}
                </div>
              </div>
            </button>
          );
        })}
      </div>
    </nav>
  );
}

